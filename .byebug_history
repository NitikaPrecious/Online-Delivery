continue
n
@cartItems.first
order_cart_items_path
continue
cart_items.delete
cart_items
continue
n
continue
   33:       end
   32:         cartItem.destroy
   31: 
   30:         return unless OrderItem.create(@order, cartItem.item_id, cartItem.quantity)
cart_items.each do |cartItem|
cart_items
n
order.save
n
Order.create(user:current_user,total: @total_sum)
n
Order.create(user:current_user,total: @total_sum)
cart_items.pluck(:total).inject(:+)
n
continue
cart_items.pluck(:sub_total).inject(:+)
sub_total
n
current_user.cart_itemsn
continue
total
n
current_user.cart_items
continue
order_carts_path
continue
get
cart
continue
cartitem
new_order_path
continue
n
carts_path
all_item.save
n
item.price * quantity
quantity
n
quantity
all_item
n
current_user.cart_items.new(item_id:item.id)
n
current_user.cart_items.where(item_id: params[:cart_item_id])&.first
params[:cart_item_id]
n
Item.find(params[:cart_item_id])
params[:cart_item_id]
continue
d
cart_item = current_user.cart_items
cart_item = current_user.cart_items.where(item_id: params[:cart_item_id])
cart_item = current_user.cart_items.where(item_id: params[:cart_item_id])&.first
params[:cart_item_id]
item = Item.find(params[:cart_item_id])
continue
@cartItems
continue
order_cart_item_path(cart_item_id: @cartItems )
n
continue
order_cart_item_pathorder_cart_item_path(cart_item_id: @cartItems )
order_cart_item_path
order_cart_item_pat
continue
cart_items_path
post
continue
n
@cartItems
cart_items_path
continue
@cartItem
orders_path
continue
n
@cartItem
continue
@cartItem
cartItem
orders_path
continue
cart
method: :cart
orders_path
continue
 order_path
continue
get
method: :get
n
params
new_order_path
continue
n
 order_item.save
n
item.present?
n
continue
n
Item.find(params[:item_id])
n
order = Order.new(user: current_user)
continue
pa
params
Item.find(params[:cart_item_id])
continue
params
continue
CartItem.all
CartItem
CartItem.find(params[:cart_item_id])
params[:cart_item_id]
params
c
params
c
params
current_user.id
current_user
order = Order.new(user: current_user)
c
params
params[:item_id]
item = Item.find(params[:item_id])
params
continue
params
item
order.save
order
n
order
Order.new(user: current_user)
continue
params[:item_id]
n
order.save
n
Order.new(user: current_user)
continue
current_user.items
continue
params
n
order.save
n
Order.new(user: current_user)
continue
params[:cart_item_id]
continue
!(item = CartItem.find(params[:cart_item_id]).item).blank?
params
continue
!(item = CartItem.find(params[:cart_item_id]).item).blank?
continue
CartItem.find(params[:cart_item_id])
!(item = CartItem.find(params[:cart_item_id]).item).blank?
(item = CartItem.find(params[:cart_item_id]).item).blank?
!(item = CartItem.find(params[:cart_item_id]).item).blank?
continue
order_item.save
n
order_item = OrderItem.new(item: item, order: order,quantity:1)
n
!(item = CartItem.find(params[:cart_item_id]).item).blank?
if !(item = CartItem.find(params[:cart_item_id]).item).blank?
continue
CartItem.find(params[:cart_item_id]).item
continue
n
CartItem.find(params[:cart_item_id]).item
continue
params
Item.find(params[:item_id])
params[:item_id]
continue
Item.find(params[:item_id])
order.save
params[:item_id]
params
n
order.save
n
Order.new(user: current_user)
continue
CartItem.find(params[:cart_item_id])
CartItem.find(params[:cart_item_id]).item
params[:cart_item_id]
CartItem.find(params[:cart_item_id]).item
params[:cart_item_id]
n
order.save
 if order.save
n
Order.new(user: current_user)
current_user
user: current_user
continue
n
return redirect_to orders_path
n
order.update(total:order_item.sub_total)
order_item.sub_total
n
order_item.update(sub_total: item.price * quantity)
item.price * quantity
sub_total: item.price * quantity
n
order_item.quantity
n
order_item.save
n
OrderItem.new(item: item, order: order,quantity:1)
n
 CartItem.find(params[:cart_item_id]).item
n
order.save
n
OrderItem.new(item: item, order: order,quantity:1)
CartItem.find(params[:cart_item_id]).item
order.save
CartItem.find(params[:cart_item_id]).item
params[:cart_item_id]
Order.new(user: current_user)
continue
Order.new(user: current_user)
current_user
continue
CartItem.find(params[:cart_item_id]).item
n
params
continue
redirect_to orders_path
n
redirect_to orders_path
 order.update(total:order_item.sub_total)
order_item.sub_total
n
item.price * quantity
n
order_item.quantity
n
